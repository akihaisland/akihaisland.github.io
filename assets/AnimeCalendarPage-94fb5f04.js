import{I as j}from"./InfoHead-e2677bf5.js";import{e as D,q as f,l as q,o as t,c as a,a as e,F as r,r as u,x as v,y as z,t as i,n as M,p as P,b as V,j as E,_ as S,m as $}from"./index-85ec912d.js";const h=y=>(P("data-v-13a5ce4f"),y=y(),V(),y),H={class:"calendar_area"},L={class:"animates_calendar_pc_cont"},W={class:"main_content_place"},G=h(()=>e("div",{class:"page_title"},[e("div",{class:"page_title_content"}," 放送时间表 ")],-1)),J={class:"calendar_show"},K={class:"calendar_box"},O={class:"week_in_calendar"},Q=h(()=>e("dt",{class:"week_title"},[e("div",{class:"en_bg"}," Sunday "),e("div",{class:"ch_bg"}," 星期日 ")],-1)),R=["onClick"],U=["title"],X={class:"week_in_calendar"},Y=h(()=>e("dt",{class:"week_title"},[e("div",{class:"en_bg"}," Monday "),e("div",{class:"ch_bg"}," 星期一 ")],-1)),Z=["onClick"],ee=["title"],ne={class:"week_in_calendar"},se=h(()=>e("dt",{class:"week_title"},[e("div",{class:"en_bg"}," Tuesday "),e("div",{class:"ch_bg"}," 星期二 ")],-1)),le=["onClick"],te=["title"],ae={class:"week_in_calendar"},ce=h(()=>e("dt",{class:"week_title"},[e("div",{class:"en_bg"}," Wednesday "),e("div",{class:"ch_bg"}," 星期三 ")],-1)),oe=["onClick"],_e=["title"],ie={class:"week_in_calendar"},de=h(()=>e("dt",{class:"week_title"},[e("div",{class:"en_bg"}," Thursday "),e("div",{class:"ch_bg"}," 星期四 ")],-1)),re=["onClick"],ue=["title"],ve={class:"week_in_calendar"},he=h(()=>e("dt",{class:"week_title"},[e("div",{class:"en_bg"}," Friday "),e("div",{class:"ch_bg"}," 星期五 ")],-1)),ge=["onClick"],ke=["title"],me={class:"week_in_calendar"},ye=h(()=>e("dt",{class:"week_title"},[e("div",{class:"en_bg"}," Saturday "),e("div",{class:"ch_bg"}," 星期六 ")],-1)),pe=["onClick"],we=["title"],fe={class:"animates_calendar_mobile_cont"},be={class:"main_content_place"},Ce=h(()=>e("div",{class:"page_title"}," 放送时间表 ",-1)),Ie={class:"weekdays_selection"},xe=["onClick"],$e={class:"animates_box"},De=["onClick"],Se={class:"animate_score"},Ae={class:"animate_title"},Fe=D({__name:"AnimeCalendar",setup(y){const w=f(0),m=f(5),b=f([0,0,0,0,0,0,0]);function A(){const l=new Date;w.value=l.getDay(),m.value=w.value;const c=l.getDate();b.value[w.value]=c;for(let n=1;n<=6;n++){const s=new Date;s.setDate(l.getDate()+n);const o=s.getDate();b.value[s.getDay()]=o}}function g(l){return l.images==null?"":l.images.common!=null?l.images.common:""}function F(l){let c="";return l.score==-1||l.score==null||l.score==null?c="暂无评分":c=l.score.toFixed(1),c+=" | ▷ ",l.collection_num==0||l.collection_num==null||l.collection_num==null?c+="无人收藏":c+=l.collection_num,c}const _=f([]);async function T(){A();const c=(await z.get("https://api.bgm.tv/calendar")).data;_.value=[];for(let n=0;n<7;n++)_.value.push([]);for(let n=0;n<c.length;n++){let s=c[n].weekday.id;s==7&&(s=0);const o=c[n].items;for(let C=0;C<o.length;C++){const d=o[C];let I=-1,x=0;d.rating!=null&&d.rating.score!=null&&(I=d.rating.score),d.collection!=null&&d.collection.doing!=null&&(x=d.collection.doing);const p={name:d.name,name_cn:d.name_cn,images:d.images,score:I,collection_num:x};(p.name_cn==null||p.name_cn=="")&&(p.name_cn=p.name),_.value[s].push(p)}}}q(()=>{T()});function B(l){}function N(l){m.value=l}function k(l){E.push("/anime/search?animeName="+l)}return(l,c)=>(t(),a("div",H,[e("div",L,[e("div",W,[G,e("div",J,[e("ul",K,[e("li",O,[e("dl",null,[Q,e("dd",null,[e("ul",null,[(t(!0),a(r,null,u(_.value[0],(n,s)=>(t(),a("li",{class:"animate_in_calendar",key:s,style:v({backgroundImage:"url("+g(n)+")"}),onClick:o=>k(n.name_cn)},[e("div",{class:"animate_title",title:n.name_cn},i(n.name_cn),9,U)],12,R))),128))])])])]),e("li",X,[e("dl",null,[Y,e("dd",null,[e("ul",null,[(t(!0),a(r,null,u(_.value[1],(n,s)=>(t(),a("li",{class:"animate_in_calendar",key:s,style:v({backgroundImage:"url("+g(n)+")"}),onClick:o=>k(n.name_cn)},[e("div",{class:"animate_title",title:n.name_cn},i(n.name_cn),9,ee)],12,Z))),128))])])])]),e("li",ne,[e("dl",null,[se,e("dd",null,[e("ul",null,[(t(!0),a(r,null,u(_.value[2],(n,s)=>(t(),a("li",{class:"animate_in_calendar",key:s,style:v({backgroundImage:"url("+g(n)+")"}),onClick:o=>k(n.name_cn)},[e("div",{class:"animate_title",title:n.name_cn},i(n.name_cn),9,te)],12,le))),128))])])])]),e("li",ae,[e("dl",null,[ce,e("dd",null,[e("ul",null,[(t(!0),a(r,null,u(_.value[3],(n,s)=>(t(),a("li",{class:"animate_in_calendar",key:s,style:v({backgroundImage:"url("+g(n)+")"}),onClick:o=>k(n.name_cn)},[e("div",{class:"animate_title",title:n.name_cn},i(n.name_cn),9,_e)],12,oe))),128))])])])]),e("li",ie,[e("dl",null,[de,e("dd",null,[e("ul",null,[(t(!0),a(r,null,u(_.value[4],(n,s)=>(t(),a("li",{class:"animate_in_calendar",key:s,style:v({backgroundImage:"url("+g(n)+")"}),onClick:o=>k(n.name_cn)},[e("div",{class:"animate_title",title:n.name_cn},i(n.name_cn),9,ue)],12,re))),128))])])])]),e("li",ve,[e("dl",null,[he,e("dd",null,[e("ul",null,[(t(!0),a(r,null,u(_.value[5],(n,s)=>(t(),a("li",{class:"animate_in_calendar",key:s,style:v({backgroundImage:"url("+g(n)+")"}),onClick:o=>k(n.name_cn)},[e("div",{class:"animate_title",title:n.name_cn},i(n.name_cn),9,ke)],12,ge))),128))])])])]),e("li",me,[e("dl",null,[ye,e("dd",null,[e("ul",null,[(t(!0),a(r,null,u(_.value[6],(n,s)=>(t(),a("li",{class:"animate_in_calendar",key:s,style:v({backgroundImage:"url("+g(n)+")"}),onClick:o=>k(n.name_cn)},[e("div",{class:"animate_title",title:n.name_cn},i(n.name_cn),9,we)],12,pe))),128))])])])])])])])]),e("div",fe,[e("div",be,[Ce,e("div",{class:"calendar_box",onTouchmove:B},[e("div",Ie,[e("div",{class:"weekday_item_selection",style:v({left:"calc(100% / 14 - 25px + 100% / 7 * "+m.value+")"})},null,4),(t(!0),a(r,null,u(b.value,(n,s)=>(t(),a("div",{class:M(["weekday_item",{sel_weekday:s==m.value}]),key:s,onClick:o=>N(s)},i(n),11,xe))),128))]),e("div",$e,[(t(!0),a(r,null,u(_.value[m.value],(n,s)=>(t(),a("div",{class:"animate_item",key:s,onClick:o=>k(n.name_cn)},[e("div",{class:"animate_img_box",style:v({backgroundImage:"url("+g(n)+")"})},[e("div",Se,i(F(n)),1)],4),e("div",Ae,i(n.name_cn),1)],8,De))),128))])],32)])])]))}}),Te=S(Fe,[["__scopeId","data-v-13a5ce4f"]]),Be={class:"page_box"},Ne={class:"head_where"},je={class:"page_where"},qe=D({__name:"AnimeCalendarPage",setup(y){return(w,m)=>(t(),a("div",Be,[e("div",Ne,[$(j)]),e("div",je,[$(Te)])]))}}),Pe=S(qe,[["__scopeId","data-v-867db6f3"]]);export{Pe as default};
